{"version":3,"sources":["debouncer/debouncer.js"],"names":["app","service","$q","debouncerTimers","setDebouncer","data","defer","name","setTimeout","result","fn","apply","this","arguments","hasOwnProperty","then","res","resolve","rej","reject","time","debounce","clearTimeout","promise","angular","module"],"mappings":"CASA,SAAUA,GACT,YAEAA,GAAIC,QAAQ,aAAA,KAAa,SAASC,GAEjC,GAAIC,MAEAC,EAAe,SAASC,EAAMC,GACjCH,EAAgBE,EAAKE,MAAQC,WAAW,WACvC,GAAIC,GAASJ,EAAKK,GAAGC,MAAMC,KAAMP,EAAKQ,UAEnCJ,IAAUA,EAAOK,eAAe,WAClCL,EAAOM,KAAK,SAASC,GACpBV,EAAMW,QAAQD,IACZ,SAASE,GACXZ,EAAMa,OAAOD,KAGdZ,EAAMW,QAAQR,IAEZJ,EAAKe,MAAQ,MAGdC,EAAW,SAAShB,EAAMC,GAC1BH,EAAgBW,eAAeT,EAAKE,OACtCe,aAAanB,EAAgBE,EAAKE,OAClCH,EAAaC,EAAMC,IAEnBF,EAAaC,EAAMC,GAIrB,OAAO,UAASD,GACf,GAAIC,GAAQJ,EAAGI,OAQf,OANGD,GACFgB,EAAShB,EAAMC,GAEfA,EAAMa,SAGAb,EAAMiB,aAIbC,QAAQC,OAAO","file":"debouncer.min.js","sourcesContent":["/**\n * Simple module for debouncing\n * @param {object} options - Options object with properties defined below\n * @param {string} name - Specifies the key to debounce.\n * @param {function} fn - The function that will be called\n * @param {array} arguments - Arguments passed in which can be accessed in the function as aguments[0], arguments[1], etc.\n * @param {object} time - The length of time before calling the function\n */\n\n(function(app){\n\t'use strict';\n\t\n\tapp.service('debouncer', function($q){\n\n\t\tvar debouncerTimers = {};\n\n\t\tvar setDebouncer = function(data, defer){\n\t\t\tdebouncerTimers[data.name] = setTimeout(function(){\n\t\t\t\tvar result = data.fn.apply(this, data.arguments);\n\n\t\t\t\tif(result && result.hasOwnProperty('$$state')){\n\t\t\t\t\tresult.then(function(res){\n\t\t\t\t\t\tdefer.resolve(res);\n\t\t\t\t\t}, function(rej){\n\t\t\t\t\t\tdefer.reject(rej);\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tdefer.resolve(result);\n\t\t\t\t}\n\t\t\t}, (data.time || 100));\n\t\t};\n\n\t\tvar debounce = function(data, defer){\n\t\t\tif(debouncerTimers.hasOwnProperty(data.name)){\n\t\t\t\tclearTimeout(debouncerTimers[data.name]);\n\t\t\t\tsetDebouncer(data, defer);\n\t\t\t}else{\n\t\t\t\tsetDebouncer(data, defer);\n\t\t\t}\n\t\t};\n\n\t\treturn function(data){\n\t\t\tvar defer = $q.defer();\n\n\t\t\tif(data){\n\t\t\t\tdebounce(data, defer);\n\t\t\t}else{\n\t\t\t\tdefer.reject();\n\t\t\t}\n\n\t\t\treturn defer.promise;\n\t\t};\n\t});\n\n})(angular.module('debouncerModule', []));\n\n/* EXAMPLE\n\ndebouncer({\n\tname: 'test',\n\tfn: function(){\n\t\tvar defer = $q.defer();\n\n\t\tsetTimeout(function () {\n\t\t\tdefer.resolve('somthing cool');\n\t\t},3000);\n\n\t\treturn defer.promise;\n\t},\n\targuments: ['arg1', 'arg2'],\n\ttime: 100\n}).then(function(res){\n\n});\n*/\n"]}